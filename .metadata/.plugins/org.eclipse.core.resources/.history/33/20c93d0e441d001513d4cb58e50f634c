package web;

import java.util.Date;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;

import beans.Categoria; 
import beans.Producto;
import service.ProductManager;


@Controller
public class InventoryController {
    
    @Autowired
    private ProductManager productManager;
    
    public void setProductManager(ProductManager productManager) {
        this.productManager = productManager;
    }    

    @RequestMapping(value="/hello.htm")
    public String printHello(ModelMap model) {    	
    	String now = (new Date()).toString();
    	Producto med = new Producto();
    	med.setActivo(true);
    	med.setDescripcion("Verde esperanza");
    	med.setNombre("Lechuga");
    	Categoria cat= productManager.darCategoria((long) 1);
    	med.getCategorias().add(cat);
    	productManager.guardarProducto(med);
        model.addAttribute("now", now); 
        return "hello";
    }
}